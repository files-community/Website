---
title: Стандарты качества кода
---

Весь код, внесенный в репозиторий, должен соответствовать нашему модели проектирования
[Model-View-ViewModel](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93viewmodel).
Код должен быть хорошо написан и раскрывать четкую цель. Обходные пути не приветствуются, если только пул-реквест (англ. Pull-Request, PR) не затрагивает внешние компонентов (функции ОС/вызовы API), которые требуют нетрадиционных методов кодирования. Ваш код должен легко поддерживаться без
необходимость переписывать основные части, следить за тем, чтобы код не дублировался, использовать абстракции и наследование - отличный способ поддерживать высокое качество кода. Ваш код также должен быть протестирован на возможные регрессии и нежелательную утечку памяти.

Мы также уделяем приоритетное внимание специальным возможностям. Чтобы проверить, соответствует ли ваш запрос на вытягивание нашим стандартам специальных возможностей, вам рекомендуется использовать [Аналитику специальных возможностей для Windows](https://accessibilityinsights.io/docs/en/windows/overview/)
чтобы каждый мог в полной мере воспользоваться преимуществами Files.

## Стиль кода

Чтобы кодовая база была последовательной и простой для понимания, мы требуем, чтобы вы следовали нашим предопределенным правилам стиля кода:

### 1. Обозначение имен для объектов и функций

- Используйте PascalCase для классов
- Используйте PascalCase с префиксом `I` для интерфейсов
- Используйте PascalCase для структур
- Используйте PascalCase для функция и методов
- Используйте "Base" префикс для базовых классов
- Используйте "Service" суффикс для сервисных классов и интерфейсов
- Используйте "Model" суффикс для классов моделей
- Используйте "ViewModel" суффикс для классов моделей представлений
- Используйте "Dialog" суффикс дял контроллеров диалогов
- Используйте "Control" суффикс для контроллеров пользователя
- Используйте "Page" суффикс для страниц

### 2. Обозначение имен для переменных

- Используйте PascalCase для параметров и статичных полей
- Используйте PascalCase с префиксом `_` для параметров резервных свойств
- Используйте camelCase для защищенных (protected) и публичных (public) полей, защищенных (protected) параметров резервных свойств, методов параметров
- Используйте camelCase с префиксом `_` для приватных (private) полей
- Используйте Hungarian Notation только для Функций OC/вызовов API
- Используйте UPPER_CASE для константных переменных
- Используйте предопределенные примитивные типы, такие как `int`, `long`, `string` вместо `Int32`, `Int64`, `String`

### 3. Чистота кода и простота его чтения

- Не используйте фигурные скобки для `if`, `for` и `foreach`, если они умещаются на одну строчку'
- Не используйте `#region` директивы
- Выравнивайте `while();` на той же строке фигурной скобки в `do..while`
- Используйте префиксы `Is`, `Has`, `Have`, `Any`, `Can` или похожие слова для `Boolean` наименований переменных и наименования методов, если это возможно
- Не используйте `Enum` или `Flag(s)` суффиксы/префиксы для названий Enum
- Выравнивайте фигурные скобки на новых строках
- Поля, свойства, методы и конструкторы должны быть разделены одной строкой, за исключением параметров резервных свойств, которые не разделяются никаким экстремальным числом строк
- Не вызывайте вручную функции или команды обработки событий
- Не используйте `public` модификатор в interface'ах параметров и функций
- Определяйте константы в классе `Constants` находящийся рядом со структурой
- Маркируйте классы как `abstract` или `sealed` если это возможно
- Интерфейсы должны быть задокументированы
- Всегда создавайте новые `EventArgs` классы для аргументов событий
- Добавляйте буквенный суффикс для чисел: `0.1d`, `100000000000L`, `1.1f`
- Не используйте `RelayCommand<Type>`, предпочтительнее `ICommand`
- Любой класс, реализующий `IDisposable` также должно содержать поле `private bool _disposed;`
- Вы обязаны использовать [XAML Styler](https://marketplace.visualstudio.com/items?itemName=TeamXavalon.XAMLStyler2022)
  для стилизации XAML
- Следуйте принципу единой ответственности в классах, модулях и методах

### 4. Структура класса

Ниже показано, как должна быть упорядочена структура класса:

- Static fields - статичные поля
- Static properties - статичные свойства

- `readonly` fields - `readonly` поля
- Fields - поля
- `_disposed` field - `_disposed` поле (если возможно)

- Service property - Service свойство

- Properties - свойства
- UI properties - свойства для пользовательского интерфейса
- ICommand properties - свойства для интерфейса

- Конструктор `{ fields injection, initialization of fields, command implementation }`

- Функции реализации команд (только private/protected, может быть virtual, но не abstract)

- public (virtual/override) методы (с количеством параметров по убыванию)
- protected (virtual/override) методы (с количеством параметров по убыванию)
- private методы

- `static` методы

- `abstract` методы

- Операторы

- Assertions такие как. `AssertNotDisposed()`, `AssertInitialized()`, `AssertStreamOpened()`
- IDisposable.Dispose() функция

### 5. Структура интерфейса

Ниже показано, как должна быть упорядочена структура интерфейса:

- свойства
- функции (Название по убыванию и количество параметров по убыванию)

### 6. Классы Helper и Extension

- Helper классы должен быть либо static, либо instance
- Extension классы должны static и содержат только функции расширения, относящиеся к одному типу или производным
